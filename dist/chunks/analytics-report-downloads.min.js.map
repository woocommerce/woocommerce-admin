{"version":3,"sources":["webpack://wc.[modulename]/./client/analytics/components/report-summary/index.js","webpack://wc.[modulename]/./client/analytics/report/downloads/config.js","webpack://wc.[modulename]/./client/analytics/report/downloads/index.js","webpack://wc.[modulename]/./client/analytics/report/downloads/table.js","webpack://wc.[modulename]/./client/analytics/report/taxes/utils.js","webpack://wc.[modulename]/./client/lib/async-requests/index.js","webpack://wc.[modulename]/./client/lib/get-selected-chart/index.js","webpack://wc.[modulename]/./node_modules/@babel/runtime/helpers/asyncToGenerator.js"],"names":["ReportSummary","val","type","context","formatAmount","getCurrencyConfig","formatValue","key","props","emptySearchResults","summaryData","totals","primaryTotal","primary","secondaryTotal","secondary","primaryValue","secondaryValue","delta","calculateDelta","prevValue","formatVal","value","charts","query","selectedChart","endpoint","report","defaultDateRange","isError","isRequesting","length","getDateParamsFromQuery","compare","renderSummaryNumbers","onToggle","map","chart","order","orderby","label","newPath","href","getNewPath","isSelected","getValues","__","recordEvent","Component","propTypes","PropTypes","array","isRequired","string","limitProperties","object","shape","oneOf","defaultProps","contextType","CurrencyContext","compose","withSelect","select","filters","advancedFilters","limitBy","hasLimitByParam","some","item","search","fields","SETTINGS_STORE_NAME","getSetting","woocommerce_default_date_range","getSummaryNumbers","DOWLOADS_REPORT_CHARTS_FILTER","DOWLOADS_REPORT_FILTERS_FILTER","DOWLOADS_REPORT_ADVANCED_FILTERS_FILTER","applyFilters","staticParams","param","showFilters","title","_x","product","labels","add","placeholder","remove","rule","filter","rules","input","component","getLabels","getProductLabels","customer","getCustomerLabels","orderIds","split","orderId","id","ip_address","ips","ip","DownloadsReport","path","getSelectedChart","CouponsReportTable","getHeadersContent","bind","getRowsContent","getSummary","defaultSort","required","isLeftAligned","isSortable","screenReaderLabel","downloads","persistedQuery","getPersistedQuery","dateFormat","defaultTableDateFormat","download","_embedded","date","fileName","file_name","filePath","file_path","ipAddress","order_id","orderNumber","order_number","productId","product_id","username","errorCode","code","productName","name","productDisplay","productValue","productURL","products","display","getAdminLink","download_count","downloadCount","dates","getCurrentDates","after","moment","before","days","diff","currency","_n","_embed","getTaxCode","tax","country","state","priority","toString","toUpperCase","trim","Boolean","join","getRequestByIdString","handleData","identity","queryString","pathString","idList","getIdsFromQuery","Promise","resolve","payload","include","per_page","apiFetch","addQueryArgs","then","data","getCategoryLabels","NAMESPACE","category","getCouponLabels","coupon","getTaxRateLabels","taxRate","getVariationName","attributes","separator","indexOf","attributeList","option","getVariationLabels","variation","chartName","find"],"mappings":"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","file":"chunks/analytics-report-downloads.min.js","sourcesContent":["/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport PropTypes from 'prop-types';\nimport { getNewPath } from '@woocommerce/navigation';\nimport {\n\tSummaryList,\n\tSummaryListPlaceholder,\n\tSummaryNumber,\n} from '@woocommerce/components';\nimport { calculateDelta, formatValue } from '@woocommerce/number';\nimport { getSummaryNumbers, SETTINGS_STORE_NAME } from '@woocommerce/data';\nimport { getDateParamsFromQuery } from '@woocommerce/date';\nimport { recordEvent } from '@woocommerce/tracks';\n\n/**\n * Internal dependencies\n */\nimport ReportError from '../report-error';\nimport { CurrencyContext } from '../../../lib/currency-context';\n\n/**\n * Component to render summary numbers in reports.\n */\nexport class ReportSummary extends Component {\n\tformatVal( val, type ) {\n\t\tconst { formatAmount, getCurrencyConfig } = this.context;\n\t\treturn type === 'currency'\n\t\t\t? formatAmount( val )\n\t\t\t: formatValue( getCurrencyConfig(), type, val );\n\t}\n\n\tgetValues( key, type ) {\n\t\tconst { emptySearchResults, summaryData } = this.props;\n\t\tconst { totals } = summaryData;\n\n\t\tconst primaryTotal = totals.primary ? totals.primary[ key ] : 0;\n\t\tconst secondaryTotal = totals.secondary ? totals.secondary[ key ] : 0;\n\n\t\tconst primaryValue = emptySearchResults ? 0 : primaryTotal;\n\t\tconst secondaryValue = emptySearchResults ? 0 : secondaryTotal;\n\n\t\treturn {\n\t\t\tdelta: calculateDelta( primaryValue, secondaryValue ),\n\t\t\tprevValue: this.formatVal( secondaryValue, type ),\n\t\t\tvalue: this.formatVal( primaryValue, type ),\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcharts,\n\t\t\tquery,\n\t\t\tselectedChart,\n\t\t\tsummaryData,\n\t\t\tendpoint,\n\t\t\treport,\n\t\t\tdefaultDateRange,\n\t\t} = this.props;\n\t\tconst { isError, isRequesting } = summaryData;\n\n\t\tif ( isError ) {\n\t\t\treturn <ReportError isError />;\n\t\t}\n\n\t\tif ( isRequesting ) {\n\t\t\treturn <SummaryListPlaceholder numberOfItems={ charts.length } />;\n\t\t}\n\n\t\tconst { compare } = getDateParamsFromQuery( query, defaultDateRange );\n\n\t\tconst renderSummaryNumbers = ( { onToggle } ) =>\n\t\t\tcharts.map( ( chart ) => {\n\t\t\t\tconst { key, order, orderby, label, type } = chart;\n\t\t\t\tconst newPath = { chart: key };\n\t\t\t\tif ( orderby ) {\n\t\t\t\t\tnewPath.orderby = orderby;\n\t\t\t\t}\n\t\t\t\tif ( order ) {\n\t\t\t\t\tnewPath.order = order;\n\t\t\t\t}\n\t\t\t\tconst href = getNewPath( newPath );\n\t\t\t\tconst isSelected = selectedChart.key === key;\n\t\t\t\tconst { delta, prevValue, value } = this.getValues( key, type );\n\n\t\t\t\treturn (\n\t\t\t\t\t<SummaryNumber\n\t\t\t\t\t\tkey={ key }\n\t\t\t\t\t\tdelta={ delta }\n\t\t\t\t\t\thref={ href }\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\tprevLabel={\n\t\t\t\t\t\t\tcompare === 'previous_period'\n\t\t\t\t\t\t\t\t? __( 'Previous Period:', 'woocommerce-admin' )\n\t\t\t\t\t\t\t\t: __( 'Previous Year:', 'woocommerce-admin' )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprevValue={ prevValue }\n\t\t\t\t\t\tselected={ isSelected }\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonLinkClickCallback={ () => {\n\t\t\t\t\t\t\t// Wider than a certain breakpoint, there is no dropdown so avoid calling onToggle.\n\t\t\t\t\t\t\tif ( onToggle ) {\n\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trecordEvent( 'analytics_chart_tab_click', {\n\t\t\t\t\t\t\t\treport: report || endpoint,\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} );\n\n\t\treturn <SummaryList>{ renderSummaryNumbers }</SummaryList>;\n\t}\n}\n\nReportSummary.propTypes = {\n\t/**\n\t * Properties of all the charts available for that report.\n\t */\n\tcharts: PropTypes.array.isRequired,\n\t/**\n\t * The endpoint to use in API calls to populate the Summary Numbers.\n\t * For example, if `taxes` is provided, data will be fetched from the report\n\t * `taxes` endpoint (ie: `/wc-analytics/reports/taxes/stats`). If the provided endpoint\n\t * doesn't exist, an error will be shown to the user with `ReportError`.\n\t */\n\tendpoint: PropTypes.string.isRequired,\n\t/**\n\t * Allows specifying properties different from the `endpoint` that will be used\n\t * to limit the items when there is an active search.\n\t */\n\tlimitProperties: PropTypes.array,\n\t/**\n\t * The query string represented in object form.\n\t */\n\tquery: PropTypes.object.isRequired,\n\t/**\n\t * Properties of the selected chart.\n\t */\n\tselectedChart: PropTypes.shape( {\n\t\t/**\n\t\t * Key of the selected chart.\n\t\t */\n\t\tkey: PropTypes.string.isRequired,\n\t\t/**\n\t\t * Chart label.\n\t\t */\n\t\tlabel: PropTypes.string.isRequired,\n\t\t/**\n\t\t * Order query argument.\n\t\t */\n\t\torder: PropTypes.oneOf( [ 'asc', 'desc' ] ),\n\t\t/**\n\t\t * Order by query argument.\n\t\t */\n\t\torderby: PropTypes.string,\n\t\t/**\n\t\t * Number type for formatting.\n\t\t */\n\t\ttype: PropTypes.oneOf( [ 'average', 'number', 'currency' ] ).isRequired,\n\t} ).isRequired,\n\t/**\n\t * Data to display in the SummaryNumbers.\n\t */\n\tsummaryData: PropTypes.object,\n\t/**\n\t * Report name, if different than the endpoint.\n\t */\n\treport: PropTypes.string,\n};\n\nReportSummary.defaultProps = {\n\tsummaryData: {\n\t\ttotals: {\n\t\t\tprimary: {},\n\t\t\tsecondary: {},\n\t\t},\n\t\tisError: false,\n\t},\n};\n\nReportSummary.contextType = CurrencyContext;\n\nexport default compose(\n\twithSelect( ( select, props ) => {\n\t\tconst {\n\t\t\tcharts,\n\t\t\tendpoint,\n\t\t\tlimitProperties,\n\t\t\tquery,\n\t\t\tfilters,\n\t\t\tadvancedFilters,\n\t\t} = props;\n\t\tconst limitBy = limitProperties || [ endpoint ];\n\n\t\tconst hasLimitByParam = limitBy.some(\n\t\t\t( item ) => query[ item ] && query[ item ].length\n\t\t);\n\n\t\tif ( query.search && ! hasLimitByParam ) {\n\t\t\treturn {\n\t\t\t\temptySearchResults: true,\n\t\t\t};\n\t\t}\n\n\t\tconst fields = charts && charts.map( ( chart ) => chart.key );\n\n\t\tconst { woocommerce_default_date_range: defaultDateRange } = select(\n\t\t\tSETTINGS_STORE_NAME\n\t\t).getSetting( 'wc_admin', 'wcAdminSettings' );\n\n\t\tconst summaryData = getSummaryNumbers( {\n\t\t\tendpoint,\n\t\t\tquery,\n\t\t\tselect,\n\t\t\tlimitBy,\n\t\t\tfilters,\n\t\t\tadvancedFilters,\n\t\t\tdefaultDateRange,\n\t\t\tfields,\n\t\t} );\n\n\t\treturn {\n\t\t\tsummaryData,\n\t\t\tdefaultDateRange,\n\t\t};\n\t} )\n)( ReportSummary );\n","/**\n * External dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { applyFilters } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetCustomerLabels,\n\tgetProductLabels,\n} from '../../../lib/async-requests';\n\nconst DOWLOADS_REPORT_CHARTS_FILTER =\n\t'woocommerce_admin_downloads_report_charts';\nconst DOWLOADS_REPORT_FILTERS_FILTER =\n\t'woocommerce_admin_downloads_report_filters';\nconst DOWLOADS_REPORT_ADVANCED_FILTERS_FILTER =\n\t'woocommerce_admin_downloads_report_advanced_filters';\n\nexport const charts = applyFilters( DOWLOADS_REPORT_CHARTS_FILTER, [\n\t{\n\t\tkey: 'download_count',\n\t\tlabel: __( 'Downloads', 'woocommerce-admin' ),\n\t\ttype: 'number',\n\t},\n] );\n\nexport const filters = applyFilters( DOWLOADS_REPORT_FILTERS_FILTER, [\n\t{\n\t\tlabel: __( 'Show', 'woocommerce-admin' ),\n\t\tstaticParams: [ 'chartType', 'paged', 'per_page' ],\n\t\tparam: 'filter',\n\t\tshowFilters: () => true,\n\t\tfilters: [\n\t\t\t{ label: __( 'All Downloads', 'woocommerce-admin' ), value: 'all' },\n\t\t\t{\n\t\t\t\tlabel: __( 'Advanced Filters', 'woocommerce-admin' ),\n\t\t\t\tvalue: 'advanced',\n\t\t\t},\n\t\t],\n\t},\n] );\n\n/*eslint-disable max-len*/\nexport const advancedFilters = applyFilters(\n\tDOWLOADS_REPORT_ADVANCED_FILTERS_FILTER,\n\t{\n\t\ttitle: _x(\n\t\t\t'Downloads Match {{select /}} Filters',\n\t\t\t'A sentence describing filters for Downloads. See screen shot for context: https://cloudup.com/ccxhyH2mEDg',\n\t\t\t'woocommerce-admin'\n\t\t),\n\t\tfilters: {\n\t\t\tproduct: {\n\t\t\t\tlabels: {\n\t\t\t\t\tadd: __( 'Product', 'woocommerce-admin' ),\n\t\t\t\t\tplaceholder: __( 'Search', 'woocommerce-admin' ),\n\t\t\t\t\tremove: __( 'Remove product filter', 'woocommerce-admin' ),\n\t\t\t\t\trule: __(\n\t\t\t\t\t\t'Select a product filter match',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\t/* translators: A sentence describing a Product filter. See screen shot for context: https://cloudup.com/ccxhyH2mEDg */\n\t\t\t\t\ttitle: __(\n\t\t\t\t\t\t'{{title}}Product{{/title}} {{rule /}} {{filter /}}',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\tfilter: __( 'Select product', 'woocommerce-admin' ),\n\t\t\t\t},\n\t\t\t\trules: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'includes',\n\t\t\t\t\t\t/* translators: Sentence fragment, logical, \"Includes\" refers to products including a given product(s). Screenshot for context: https://cloudup.com/ccxhyH2mEDg */\n\t\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t\t'Includes',\n\t\t\t\t\t\t\t'products',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'excludes',\n\t\t\t\t\t\t/* translators: Sentence fragment, logical, \"Excludes\" refers to products excluding a products(s). Screenshot for context: https://cloudup.com/ccxhyH2mEDg */\n\t\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t\t'Excludes',\n\t\t\t\t\t\t\t'products',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tinput: {\n\t\t\t\t\tcomponent: 'Search',\n\t\t\t\t\ttype: 'products',\n\t\t\t\t\tgetLabels: getProductLabels,\n\t\t\t\t},\n\t\t\t},\n\t\t\tcustomer: {\n\t\t\t\tlabels: {\n\t\t\t\t\tadd: __( 'Username', 'woocommerce-admin' ),\n\t\t\t\t\tplaceholder: __(\n\t\t\t\t\t\t'Search customer username',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\tremove: __(\n\t\t\t\t\t\t'Remove customer username filter',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\trule: __(\n\t\t\t\t\t\t'Select a customer username filter match',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\t/* translators: A sentence describing a customer username filter. See screen shot for context: https://cloudup.com/ccxhyH2mEDg */\n\t\t\t\t\ttitle: __(\n\t\t\t\t\t\t'{{title}}Username{{/title}} {{rule /}} {{filter /}}',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\tfilter: __(\n\t\t\t\t\t\t'Select customer username',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\trules: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'includes',\n\t\t\t\t\t\t/* translators: Sentence fragment, logical, \"Includes\" refers to customer usernames including a given username(s). Screenshot for context: https://cloudup.com/ccxhyH2mEDg */\n\t\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t\t'Includes',\n\t\t\t\t\t\t\t'customer usernames',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'excludes',\n\t\t\t\t\t\t/* translators: Sentence fragment, logical, \"Excludes\" refers to customer usernames excluding a given username(s). Screenshot for context: https://cloudup.com/ccxhyH2mEDg */\n\t\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t\t'Excludes',\n\t\t\t\t\t\t\t'customer usernames',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tinput: {\n\t\t\t\t\tcomponent: 'Search',\n\t\t\t\t\ttype: 'usernames',\n\t\t\t\t\tgetLabels: getCustomerLabels,\n\t\t\t\t},\n\t\t\t},\n\t\t\torder: {\n\t\t\t\tlabels: {\n\t\t\t\t\tadd: __( 'Order #', 'woocommerce-admin' ),\n\t\t\t\t\tplaceholder: __(\n\t\t\t\t\t\t'Search order number',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\tremove: __(\n\t\t\t\t\t\t'Remove order number filter',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\trule: __(\n\t\t\t\t\t\t'Select a order number filter match',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\t/* translators: A sentence describing a order number filter. See screen shot for context: https://cloudup.com/ccxhyH2mEDg */\n\t\t\t\t\ttitle: __(\n\t\t\t\t\t\t'{{title}}Order #{{/title}} {{rule /}} {{filter /}}',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\tfilter: __( 'Select order number', 'woocommerce-admin' ),\n\t\t\t\t},\n\t\t\t\trules: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'includes',\n\t\t\t\t\t\t/* translators: Sentence fragment, logical, \"Includes\" refers to order numbers including a given order(s). Screenshot for context: https://cloudup.com/ccxhyH2mEDg */\n\t\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t\t'Includes',\n\t\t\t\t\t\t\t'order numbers',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'excludes',\n\t\t\t\t\t\t/* translators: Sentence fragment, logical, \"Excludes\" refers to order numbers excluding a given order(s). Screenshot for context: https://cloudup.com/ccxhyH2mEDg */\n\t\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t\t'Excludes',\n\t\t\t\t\t\t\t'order numbers',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tinput: {\n\t\t\t\t\tcomponent: 'Search',\n\t\t\t\t\ttype: 'orders',\n\t\t\t\t\tgetLabels: async ( value ) => {\n\t\t\t\t\t\tconst orderIds = value.split( ',' );\n\t\t\t\t\t\treturn await orderIds.map( ( orderId ) => ( {\n\t\t\t\t\t\t\tid: orderId,\n\t\t\t\t\t\t\tlabel: '#' + orderId,\n\t\t\t\t\t\t} ) );\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tip_address: {\n\t\t\t\tlabels: {\n\t\t\t\t\tadd: __( 'IP Address', 'woocommerce-admin' ),\n\t\t\t\t\tplaceholder: __( 'Search IP address', 'woocommerce-admin' ),\n\t\t\t\t\tremove: __(\n\t\t\t\t\t\t'Remove IP address filter',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\trule: __(\n\t\t\t\t\t\t'Select an IP address filter match',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\t/* translators: A sentence describing a order number filter. See screen shot for context: https://cloudup.com/ccxhyH2mEDg */\n\t\t\t\t\ttitle: __(\n\t\t\t\t\t\t'{{title}}IP Address{{/title}} {{rule /}} {{filter /}}',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\tfilter: __( 'Select IP address', 'woocommerce-admin' ),\n\t\t\t\t},\n\t\t\t\trules: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'includes',\n\t\t\t\t\t\t/* translators: Sentence fragment, logical, \"Includes\" refers to IP addresses including a given address(s). Screenshot for context: https://cloudup.com/ccxhyH2mEDg */\n\t\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t\t'Includes',\n\t\t\t\t\t\t\t'IP addresses',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'excludes',\n\t\t\t\t\t\t/* translators: Sentence fragment, logical, \"Excludes\" refers to IP addresses excluding a given address(s). Screenshot for context: https://cloudup.com/ccxhyH2mEDg */\n\t\t\t\t\t\tlabel: _x(\n\t\t\t\t\t\t\t'Excludes',\n\t\t\t\t\t\t\t'IP addresses',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tinput: {\n\t\t\t\t\tcomponent: 'Search',\n\t\t\t\t\ttype: 'downloadIps',\n\t\t\t\t\tgetLabels: async ( value ) => {\n\t\t\t\t\t\tconst ips = value.split( ',' );\n\t\t\t\t\t\treturn await ips.map( ( ip ) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: ip,\n\t\t\t\t\t\t\t\tlabel: ip,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} );\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t}\n);\n/*eslint-enable max-len*/\n","/**\n * External dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport { charts, filters, advancedFilters } from './config';\nimport DownloadsReportTable from './table';\nimport getSelectedChart from '../../../lib/get-selected-chart';\nimport ReportChart from '../../components/report-chart';\nimport ReportSummary from '../../components/report-summary';\nimport ReportFilters from '../../components/report-filters';\n\nexport default class DownloadsReport extends Component {\n\trender() {\n\t\tconst { query, path } = this.props;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ReportFilters\n\t\t\t\t\tquery={ query }\n\t\t\t\t\tpath={ path }\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t\treport=\"downloads\"\n\t\t\t\t/>\n\t\t\t\t<ReportSummary\n\t\t\t\t\tcharts={ charts }\n\t\t\t\t\tendpoint=\"downloads\"\n\t\t\t\t\tquery={ query }\n\t\t\t\t\tselectedChart={ getSelectedChart( query.chart, charts ) }\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t/>\n\t\t\t\t<ReportChart\n\t\t\t\t\tcharts={ charts }\n\t\t\t\t\tendpoint=\"downloads\"\n\t\t\t\t\tpath={ path }\n\t\t\t\t\tquery={ query }\n\t\t\t\t\tselectedChart={ getSelectedChart( query.chart, charts ) }\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t/>\n\t\t\t\t<DownloadsReportTable\n\t\t\t\t\tquery={ query }\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nDownloadsReport.propTypes = {\n\tquery: PropTypes.object.isRequired,\n};\n","/**\n * External dependencies\n */\nimport { __, _n } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\nimport { map } from 'lodash';\nimport moment from 'moment';\nimport { Date, Link } from '@woocommerce/components';\nimport { getNewPath, getPersistedQuery } from '@woocommerce/navigation';\nimport { formatValue } from '@woocommerce/number';\nimport { getAdminLink, getSetting } from '@woocommerce/wc-admin-settings';\nimport { SETTINGS_STORE_NAME } from '@woocommerce/data';\nimport { getCurrentDates, defaultTableDateFormat } from '@woocommerce/date';\n\n/**\n * Internal dependencies\n */\nimport ReportTable from '../../components/report-table';\nimport { CurrencyContext } from '../../../lib/currency-context';\n\nclass CouponsReportTable extends Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.getHeadersContent = this.getHeadersContent.bind( this );\n\t\tthis.getRowsContent = this.getRowsContent.bind( this );\n\t\tthis.getSummary = this.getSummary.bind( this );\n\t}\n\n\tgetHeadersContent() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tlabel: __( 'Date', 'woocommerce-admin' ),\n\t\t\t\tkey: 'date',\n\t\t\t\tdefaultSort: true,\n\t\t\t\trequired: true,\n\t\t\t\tisLeftAligned: true,\n\t\t\t\tisSortable: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Product Title', 'woocommerce-admin' ),\n\t\t\t\tkey: 'product',\n\t\t\t\tisSortable: true,\n\t\t\t\trequired: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'File Name', 'woocommerce-admin' ),\n\t\t\t\tkey: 'file_name',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Order #', 'woocommerce-admin' ),\n\t\t\t\tscreenReaderLabel: __( 'Order Number', 'woocommerce-admin' ),\n\t\t\t\tkey: 'order_number',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Username', 'woocommerce-admin' ),\n\t\t\t\tkey: 'user_id',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'IP', 'woocommerce-admin' ),\n\t\t\t\tkey: 'ip_address',\n\t\t\t},\n\t\t];\n\t}\n\n\tgetRowsContent( downloads ) {\n\t\tconst { query } = this.props;\n\t\tconst persistedQuery = getPersistedQuery( query );\n\t\tconst dateFormat = getSetting( 'dateFormat', defaultTableDateFormat );\n\n\t\treturn map( downloads, ( download ) => {\n\t\t\tconst {\n\t\t\t\t_embedded,\n\t\t\t\tdate,\n\t\t\t\tfile_name: fileName,\n\t\t\t\tfile_path: filePath,\n\t\t\t\tip_address: ipAddress,\n\t\t\t\torder_id: orderId,\n\t\t\t\torder_number: orderNumber,\n\t\t\t\tproduct_id: productId,\n\t\t\t\tusername,\n\t\t\t} = download;\n\n\t\t\tconst {\n\t\t\t\tcode: errorCode,\n\t\t\t\tname: productName,\n\t\t\t} = _embedded.product[ 0 ];\n\t\t\tlet productDisplay, productValue;\n\n\t\t\t// Handle deleted products.\n\t\t\tif ( errorCode === 'woocommerce_rest_product_invalid_id' ) {\n\t\t\t\tproductDisplay = __( '(Deleted)', 'woocommerce-admin' );\n\t\t\t\tproductValue = __( '(Deleted)', 'woocommerce-admin' );\n\t\t\t} else {\n\t\t\t\tconst productURL = getNewPath(\n\t\t\t\t\tpersistedQuery,\n\t\t\t\t\t'/analytics/products',\n\t\t\t\t\t{\n\t\t\t\t\t\tfilter: 'single_product',\n\t\t\t\t\t\tproducts: productId,\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tproductDisplay = (\n\t\t\t\t\t<Link href={ productURL } type=\"wc-admin\">\n\t\t\t\t\t\t{ productName }\n\t\t\t\t\t</Link>\n\t\t\t\t);\n\t\t\t\tproductValue = productName;\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tdisplay: (\n\t\t\t\t\t\t<Date date={ date } visibleFormat={ dateFormat } />\n\t\t\t\t\t),\n\t\t\t\t\tvalue: date,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: productDisplay,\n\t\t\t\t\tvalue: productValue,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: (\n\t\t\t\t\t\t<Link href={ filePath } type=\"external\">\n\t\t\t\t\t\t\t{ fileName }\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t),\n\t\t\t\t\tvalue: fileName,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\thref={ getAdminLink(\n\t\t\t\t\t\t\t\t`post.php?post=${ orderId }&action=edit`\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\ttype=\"wp-admin\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ orderNumber }\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t),\n\t\t\t\t\tvalue: orderNumber,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: username,\n\t\t\t\t\tvalue: username,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: ipAddress,\n\t\t\t\t\tvalue: ipAddress,\n\t\t\t\t},\n\t\t\t];\n\t\t} );\n\t}\n\n\tgetSummary( totals ) {\n\t\tconst { download_count: downloadCount = 0 } = totals;\n\t\tconst { query, defaultDateRange } = this.props;\n\t\tconst dates = getCurrentDates( query, defaultDateRange );\n\t\tconst after = moment( dates.primary.after );\n\t\tconst before = moment( dates.primary.before );\n\t\tconst days = before.diff( after, 'days' ) + 1;\n\t\tconst currency = this.context.getCurrencyConfig();\n\n\t\treturn [\n\t\t\t{\n\t\t\t\tlabel: _n( 'day', 'days', days, 'woocommerce-admin' ),\n\t\t\t\tvalue: formatValue( currency, 'number', days ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: _n(\n\t\t\t\t\t'download',\n\t\t\t\t\t'downloads',\n\t\t\t\t\tdownloadCount,\n\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t),\n\t\t\t\tvalue: formatValue( currency, 'number', downloadCount ),\n\t\t\t},\n\t\t];\n\t}\n\n\trender() {\n\t\tconst { query, filters, advancedFilters } = this.props;\n\n\t\treturn (\n\t\t\t<ReportTable\n\t\t\t\tendpoint=\"downloads\"\n\t\t\t\tgetHeadersContent={ this.getHeadersContent }\n\t\t\t\tgetRowsContent={ this.getRowsContent }\n\t\t\t\tgetSummary={ this.getSummary }\n\t\t\t\tsummaryFields={ [ 'download_count' ] }\n\t\t\t\tquery={ query }\n\t\t\t\ttableQuery={ {\n\t\t\t\t\t_embed: true,\n\t\t\t\t} }\n\t\t\t\ttitle={ __( 'Downloads', 'woocommerce-admin' ) }\n\t\t\t\tcolumnPrefsKey=\"downloads_report_columns\"\n\t\t\t\tfilters={ filters }\n\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nCouponsReportTable.contextType = CurrencyContext;\n\nexport default withSelect( ( select ) => {\n\tconst { woocommerce_default_date_range: defaultDateRange } = select(\n\t\tSETTINGS_STORE_NAME\n\t).getSetting( 'wc_admin', 'wcAdminSettings' );\n\treturn { defaultDateRange };\n} )( CouponsReportTable );\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport function getTaxCode( tax ) {\n\treturn [\n\t\ttax.country,\n\t\ttax.state,\n\t\ttax.name || __( 'TAX', 'woocommerce-admin' ),\n\t\ttax.priority,\n\t]\n\t\t.map( ( item ) => item.toString().toUpperCase().trim() )\n\t\t.filter( Boolean )\n\t\t.join( '-' );\n}\n","/**\n * External dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\nimport apiFetch from '@wordpress/api-fetch';\nimport { identity } from 'lodash';\nimport { getIdsFromQuery } from '@woocommerce/navigation';\nimport { NAMESPACE } from '@woocommerce/data';\nimport { getSetting } from '@woocommerce/wc-admin-settings';\n\n/**\n * Internal dependencies\n */\nimport { getTaxCode } from '../../analytics/report/taxes/utils';\n\n/**\n * Get a function that accepts ids as they are found in url parameter and\n * returns a promise with an optional method applied to results\n *\n * @param {string|Function} path - api path string or a function of the query returning api path string\n * @param {Function} [handleData] - function applied to each iteration of data\n * @return {Function} - a function of ids returning a promise\n */\nexport function getRequestByIdString( path, handleData = identity ) {\n\treturn function ( queryString = '', query ) {\n\t\tconst pathString = typeof path === 'function' ? path( query ) : path;\n\t\tconst idList = getIdsFromQuery( queryString );\n\t\tif ( idList.length < 1 ) {\n\t\t\treturn Promise.resolve( [] );\n\t\t}\n\t\tconst payload = {\n\t\t\tinclude: idList.join( ',' ),\n\t\t\tper_page: idList.length,\n\t\t};\n\t\treturn apiFetch( {\n\t\t\tpath: addQueryArgs( pathString, payload ),\n\t\t} ).then( ( data ) => data.map( handleData ) );\n\t};\n}\n\nexport const getCategoryLabels = getRequestByIdString(\n\tNAMESPACE + '/products/categories',\n\t( category ) => ( {\n\t\tkey: category.id,\n\t\tlabel: category.name,\n\t} )\n);\n\nexport const getCouponLabels = getRequestByIdString(\n\tNAMESPACE + '/coupons',\n\t( coupon ) => ( {\n\t\tkey: coupon.id,\n\t\tlabel: coupon.code,\n\t} )\n);\n\nexport const getCustomerLabels = getRequestByIdString(\n\tNAMESPACE + '/customers',\n\t( customer ) => ( {\n\t\tkey: customer.id,\n\t\tlabel: customer.name,\n\t} )\n);\n\nexport const getProductLabels = getRequestByIdString(\n\tNAMESPACE + '/products',\n\t( product ) => ( {\n\t\tkey: product.id,\n\t\tlabel: product.name,\n\t} )\n);\n\nexport const getTaxRateLabels = getRequestByIdString(\n\tNAMESPACE + '/taxes',\n\t( taxRate ) => ( {\n\t\tkey: taxRate.id,\n\t\tlabel: getTaxCode( taxRate ),\n\t} )\n);\n\n/**\n * Create a variation name by concatenating each of the variation's\n * attribute option strings.\n *\n * @param {Object} variation - variation returned by the api\n * @param {Array} variation.attributes - attribute objects, with option property.\n * @param {string} variation.name - name of variation.\n * @return {string} - formatted variation name\n */\nexport function getVariationName( { attributes, name } ) {\n\tconst separator = getSetting( 'variationTitleAttributesSeparator', ' - ' );\n\n\tif ( name.indexOf( separator ) > -1 ) {\n\t\treturn name;\n\t}\n\n\tconst attributeList = attributes\n\t\t.map( ( { option } ) => option )\n\t\t.join( ', ' );\n\n\treturn attributeList ? name + separator + attributeList : name;\n}\n\nexport const getVariationLabels = getRequestByIdString(\n\t( { products } ) => {\n\t\t// If a product was specified, get just its variations.\n\t\tif ( products ) {\n\t\t\treturn NAMESPACE + `/products/${ products }/variations`;\n\t\t}\n\n\t\treturn NAMESPACE + '/variations';\n\t},\n\t( variation ) => {\n\t\treturn {\n\t\t\tkey: variation.id,\n\t\t\tlabel: getVariationName( variation ),\n\t\t};\n\t}\n);\n","/**\n * External dependencies\n */\nimport { find } from 'lodash';\n\n/**\n * Takes a chart name returns the configuration for that chart from and array\n * of charts. If the chart is not found it will return the first chart.\n *\n * @param {string} chartName - the name of the chart to get configuration for\n * @param {Array} charts - list of charts for a particular report\n * @return {Object} - chart configuration object\n */\nexport default function getSelectedChart( chartName, charts = [] ) {\n\tconst chart = find( charts, { key: chartName } );\n\tif ( chart ) {\n\t\treturn chart;\n\t}\n\treturn charts[ 0 ];\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;"],"sourceRoot":""}