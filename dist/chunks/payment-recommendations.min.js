(window.__wcAdmin_webpackJsonp=window.__wcAdmin_webpackJsonp||[]).push([[45],{531:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(8);function o(e){const{createNotice:t}=Object(c.dispatch)("core/notices");e.error_data&&e.errors&&Object.keys(e.errors).length?Object.keys(e.errors).forEach(n=>{t("error",e.errors[n].join(" "))}):e.message&&t(e.code?"error":"success",e.message)}},564:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.size,n=void 0===t?24:t,c=e.onClick,i=(e.icon,e.className),s=function(e,t){if(null==e)return{};var n,c,o=function(e,t){if(null==e)return{};var n,c,o={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,r),m=["gridicon","gridicons-external",i,!!function(e){return 0==e%18}(n)&&"needs-offset",!1,!1].filter(Boolean).join(" ");return o.default.createElement("svg",a({className:m,height:n,width:n,onClick:c},s,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),o.default.createElement("g",null,o.default.createElement("path",{d:"M19 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h6v2H5v12h12v-6h2zM13 3v2h4.586l-7.793 7.793 1.414 1.414L19 6.414V11h2V3h-8z"})))};var c,o=(c=n(6))&&c.__esModule?c:{default:c},r=["size","onClick","icon","className"];function a(){return(a=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)}},625:function(e,t,n){},647:function(e,t,n){"use strict";n.r(t),n.d(t,"getPaymentRecommendationData",(function(){return g}));var c=n(0),o=n(2),r=n(8),a=n(34),i=n(4),s=n(22),m=n(18),l=n(12),d=n(17),u=n(564),p=n.n(u),_=n(15),b=(n(625),n(531));function g(e){const{getRecommendedPlugins:t}=e(l.PLUGINS_STORE_NAME),n=t("payments");return{recommendedPlugins:n,isLoading:void 0===n}}const O=document.querySelector('[data-gateway_id="pre_install_woocommerce_payments_promotion"]');t.default=()=>{const[e,t]=Object(c.useState)(null),{installAndActivatePlugins:n,dismissRecommendedPlugins:u,invalidateResolution:j}=Object(r.useDispatch)(l.PLUGINS_STORE_NAME),{createNotice:w}=Object(r.useDispatch)("core/notices"),{recommendedPlugins:f,isLoading:y}=Object(r.useSelect)(g),h=Object(c.useRef)(!1),v=f&&f.length>0;if(Object(c.useEffect)(()=>{if((v||O&&!y)&&!h.current){h.current=!0;const e=(f||[]).reduce((e,t)=>t.plugins&&t.plugins.length>0?{...e,[t.plugins[0].replace(/\-/g,"_")+"_displayed"]:!0}:e,{woocommerce_payments_displayed:!!O});Object(d.recordEvent)("settings_payments_recommendations_pageview",e)}},[v,O,y]),!v)return null;const E=async()=>{Object(d.recordEvent)("settings_payments_recommendations_dismiss",{});await u("payments")?j("getRecommendedPlugins",["payments"]):w("error",Object(o.__)('There was a problem hiding the "Recommended ways to get paid" card.',"woocommerce-admin"))},k=(f||[]).map(r=>({key:r.id,title:Object(c.createElement)(c.Fragment,null,r.title,r.recommended&&Object(c.createElement)(s.Pill,null,Object(o.__)("Recommended","woocommerce-admin"))),content:Object(a.decodeEntities)(r.content),after:Object(c.createElement)(i.Button,{isSecondary:!0,onClick:()=>(c=>{e||(t(c.id),Object(d.recordEvent)("settings_payments_recommendations_setup",{extension_selected:c.plugins[0]}),n([c.plugins[0]]).then(()=>{window.location.href=Object(_.getAdminLink)(c["setup-link"].replace("/wp-admin/",""))}).catch(e=>{Object(b.a)(e),t(null)}))})(r),isBusy:e===r.id,disabled:!!e},r["button-text"]),before:Object(c.createElement)("img",{src:r.image,alt:""})}));return Object(c.createElement)(i.Card,{size:"medium",className:"woocommerce-recommended-payments-card"},Object(c.createElement)(i.CardHeader,null,Object(c.createElement)("div",{className:"woocommerce-recommended-payments-card__header"},Object(c.createElement)(m.Text,{variant:"title.small",as:"p",size:"20",lineHeight:"28px"},Object(o.__)("Recommended ways to get paid","woocommerce-admin")),Object(c.createElement)(m.Text,{className:"woocommerce-recommended-payments__header-heading",variant:"caption",as:"p",size:"12",lineHeight:"16px"},Object(o.__)('We recommend adding one of the following payment extensions to your store. The extension will be installed and activated for you when you click "Get started".',"woocommerce-admin"))),Object(c.createElement)("div",{className:"woocommerce-card__menu woocommerce-card__header-item"},Object(c.createElement)(s.EllipsisMenu,{label:Object(o.__)("Task List Options","woocommerce-admin"),renderContent:()=>Object(c.createElement)("div",{className:"woocommerce-review-activity-card__section-controls"},Object(c.createElement)(i.Button,{onClick:E},Object(o.__)("Hide this","woocommerce-admin")))}))),Object(c.createElement)(s.List,{items:k}),Object(c.createElement)(i.CardFooter,null,Object(c.createElement)(i.Button,{href:"https://woocommerce.com/product-category/woocommerce-extensions/payment-gateways/?utm_source=payments_recommendations",target:"_blank",isTertiary:!0},Object(o.__)("See more options","woocommerce-admin"),Object(c.createElement)(p.a,{size:18}))))}}}]);