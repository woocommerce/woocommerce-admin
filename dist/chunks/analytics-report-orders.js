(window.__wcAdmin_webpackJsonp=window.__wcAdmin_webpackJsonp||[]).push([[11],{507:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return h}));var r=o(0),c=o(1),a=o.n(c),n=o(560),l=o(536),m=o(2),i=o(5),s=o(22),d=o(122),u=o(13),b=o(21),_=o(533),p=o(23),O=o(527);class j extends r.Component{constructor(){super(),this.getHeadersContent=this.getHeadersContent.bind(this),this.getRowsContent=this.getRowsContent.bind(this),this.getSummary=this.getSummary.bind(this)}getHeadersContent(){return[{label:Object(m.__)("Date","woocommerce-admin"),key:"date",required:!0,defaultSort:!0,isLeftAligned:!0,isSortable:!0},{label:Object(m.__)("Order #","woocommerce-admin"),screenReaderLabel:Object(m.__)("Order Number","woocommerce-admin"),key:"order_number",required:!0},{label:Object(m.__)("Status","woocommerce-admin"),key:"status",required:!1,isSortable:!1},{label:Object(m.__)("Customer","woocommerce-admin"),key:"customer_id",required:!1,isSortable:!1},{label:Object(m.__)("Customer type","woocommerce-admin"),key:"customer_type",required:!1,isSortable:!1},{label:Object(m.__)("Product(s)","woocommerce-admin"),screenReaderLabel:Object(m.__)("Products","woocommerce-admin"),key:"products",required:!1,isSortable:!1},{label:Object(m.__)("Items sold","woocommerce-admin"),key:"num_items_sold",required:!1,isSortable:!0,isNumeric:!0},{label:Object(m.__)("Coupon(s)","woocommerce-admin"),screenReaderLabel:Object(m.__)("Coupons","woocommerce-admin"),key:"coupons",required:!1,isSortable:!1},{label:Object(m.__)("Net sales","woocommerce-admin"),screenReaderLabel:Object(m.__)("Net sales","woocommerce-admin"),key:"net_total",required:!0,isSortable:!0,isNumeric:!0}]}getCustomerName(e){const{first_name:t,last_name:o}=e||{};return t||o?[t,o].join(" "):""}getRowsContent(e){const{query:t}=this.props,o=Object(u.getPersistedQuery)(t),c=Object(p.d)("dateFormat",b.defaultTableDateFormat),{render:a,getCurrencyConfig:n}=this.context;return Object(i.map)(e,e=>{const{currency:t,date_created:l,net_total:i,num_items_sold:b,order_id:_,order_number:O,parent_id:j,status:w,customer_type:f}=e,y=e.extended_info||{},{coupons:v,customer:h,products:g}=y,S=g.sort((e,t)=>t.quantity-e.quantity).map(e=>({label:e.name,quantity:e.quantity,href:Object(u.getNewPath)(o,"/analytics/products",{filter:"single_product",products:e.id})})),C=v.map(e=>({label:e.code,href:Object(u.getNewPath)(o,"/analytics/coupons",{filter:"single_coupon",coupons:e.id})}));return[{display:Object(r.createElement)(s.Date,{date:l,visibleFormat:c}),value:l},{display:Object(r.createElement)(s.Link,{href:"post.php?post="+(j||_)+"&action=edit"+(j?"#order_refunds":""),type:"wp-admin"},O),value:O},{display:Object(r.createElement)(s.OrderStatus,{className:"woocommerce-orders-table__status",order:{status:w},labelPositionToLeft:!0,orderStatusMap:Object(p.d)("orderStatuses",{})}),value:w},{display:this.getCustomerName(h),value:this.getCustomerName(h)},{display:(x=f,x.charAt(0).toUpperCase()+x.slice(1)),value:f},{display:this.renderList(S.length?[S[0]]:[],S.map(e=>({label:Object(m.sprintf)(Object(m.__)("%s× %s","woocommerce-admin"),e.quantity,e.label),href:e.href}))),value:S.map(e=>{let{quantity:t,label:o}=e;return Object(m.sprintf)(Object(m.__)("%s× %s","woocommerce-admin"),t,o)}).join(", ")},{display:Object(d.formatValue)(n(),"number",b),value:b},{display:this.renderList(C.length?[C[0]]:[],C),value:C.map(e=>e.label).join(", ")},{display:a(i,t),value:i}];var x})}getSummary(e){const{orders_count:t=0,total_customers:o=0,products:r=0,num_items_sold:c=0,coupons_count:a=0,net_revenue:n=0}=e,{formatAmount:l,getCurrencyConfig:i}=this.context,s=i();return[{label:Object(m._n)("Order","Orders",t,"woocommerce-admin"),value:Object(d.formatValue)(s,"number",t)},{label:Object(m._n)(" Customer"," Customers",o,"woocommerce-admin"),value:Object(d.formatValue)(s,"number",o)},{label:Object(m._n)("Product","Products",r,"woocommerce-admin"),value:Object(d.formatValue)(s,"number",r)},{label:Object(m._n)("Item sold","Items sold",c,"woocommerce-admin"),value:Object(d.formatValue)(s,"number",c)},{label:Object(m._n)("Coupon","Coupons",a,"woocommerce-admin"),value:Object(d.formatValue)(s,"number",a)},{label:Object(m.__)("net sales","woocommerce-admin"),value:l(n)}]}renderLinks(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e,t)=>Object(r.createElement)(s.Link,{href:e.href,key:t,type:"wc-admin"},e.label))}renderList(e,t){return Object(r.createElement)(r.Fragment,null,this.renderLinks(e),t.length>1&&Object(r.createElement)(s.ViewMoreList,{items:this.renderLinks(t)}))}render(){const{query:e,filters:t,advancedFilters:o}=this.props;return Object(r.createElement)(_.a,{endpoint:"orders",getHeadersContent:this.getHeadersContent,getRowsContent:this.getRowsContent,getSummary:this.getSummary,summaryFields:["orders_count","total_customers","products","num_items_sold","coupons_count","net_revenue"],query:e,tableQuery:{extended_info:!0},title:Object(m.__)("Orders","woocommerce-admin"),columnPrefsKey:"orders_report_columns",filters:t,advancedFilters:o})}}j.contextType=O.a;var w=j,f=o(534),y=o(537),v=o(532);class h extends r.Component{render(){const{path:e,query:t}=this.props;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(v.a,{query:t,path:e,filters:n.c,advancedFilters:n.a,report:"orders"}),Object(r.createElement)(y.a,{charts:n.b,endpoint:"orders",query:t,selectedChart:Object(l.a)(t.chart,n.b),filters:n.c,advancedFilters:n.a}),Object(r.createElement)(f.a,{charts:n.b,endpoint:"orders",path:e,query:t,selectedChart:Object(l.a)(t.chart,n.b),filters:n.c,advancedFilters:n.a}),Object(r.createElement)(w,{query:t,filters:n.c,advancedFilters:n.a}))}}h.propTypes={path:a.a.string.isRequired,query:a.a.object.isRequired}},528:function(e,t,o){"use strict";o.d(t,"e",(function(){return d})),o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return b})),o.d(t,"c",(function(){return _})),o.d(t,"d",(function(){return p})),o.d(t,"f",(function(){return O})),o.d(t,"h",(function(){return j})),o.d(t,"g",(function(){return w}));var r=o(16),c=o(19),a=o.n(c),n=o(5),l=o(13),m=o(12),i=o(529),s=o(23);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.identity;return function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1?arguments[1]:void 0;const n="function"==typeof e?e(c):e,m=Object(l.getIdsFromQuery)(o);if(m.length<1)return Promise.resolve([]);const i={include:m.join(","),per_page:m.length};return a()({path:Object(r.addQueryArgs)(n,i)}).then(e=>e.map(t))}}d(m.NAMESPACE+"/products/attributes",e=>({key:e.id,label:e.name}));const u=d(m.NAMESPACE+"/products/categories",e=>({key:e.id,label:e.name})),b=d(m.NAMESPACE+"/coupons",e=>({key:e.id,label:e.code})),_=d(m.NAMESPACE+"/customers",e=>({key:e.id,label:e.name})),p=d(m.NAMESPACE+"/products",e=>({key:e.id,label:e.name})),O=d(m.NAMESPACE+"/taxes",e=>({key:e.id,label:Object(i.a)(e)}));function j(e){let{attributes:t,name:o}=e;const r=Object(s.d)("variationTitleAttributesSeparator"," - ");if(o&&o.indexOf(r)>-1)return o;const c=(t||[]).map(e=>{let{option:t}=e;return t}).join(", ");return c?o+r+c:o}const w=d(e=>{let{products:t}=e;return t?m.NAMESPACE+`/products/${t}/variations`:m.NAMESPACE+"/variations"},e=>({key:e.id,label:j(e)}))},529:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var r=o(2);function c(e){return[e.country,e.state,e.name||Object(r.__)("TAX","woocommerce-admin"),e.priority].map(e=>e.toString().toUpperCase().trim()).filter(Boolean).join("-")}},560:function(e,t,o){"use strict";o.d(t,"b",(function(){return l})),o.d(t,"c",(function(){return m})),o.d(t,"a",(function(){return i}));var r=o(2),c=o(28),a=o(528),n=o(23);const l=Object(c.applyFilters)("woocommerce_admin_orders_report_charts",[{key:"orders_count",label:Object(r.__)("Orders","woocommerce-admin"),type:"number"},{key:"net_revenue",label:Object(r.__)("Net sales","woocommerce-admin"),order:"desc",orderby:"net_total",type:"currency"},{key:"avg_order_value",label:Object(r.__)("Average order value","woocommerce-admin"),type:"currency"},{key:"avg_items_per_order",label:Object(r.__)("Average items per order","woocommerce-admin"),order:"desc",orderby:"num_items_sold",type:"average"}]),m=Object(c.applyFilters)("woocommerce_admin_orders_report_filters",[{label:Object(r.__)("Show","woocommerce-admin"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>!0,filters:[{label:Object(r.__)("All orders","woocommerce-admin"),value:"all"},{label:Object(r.__)("Advanced filters","woocommerce-admin"),value:"advanced"}]}]),i=Object(c.applyFilters)("woocommerce_admin_orders_report_advanced_filters",{title:Object(r._x)("Orders match {{select /}} filters","A sentence describing filters for Orders. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce-admin"),filters:{status:{labels:{add:Object(r.__)("Order Status","woocommerce-admin"),remove:Object(r.__)("Remove order status filter","woocommerce-admin"),rule:Object(r.__)("Select an order status filter match","woocommerce-admin"),title:Object(r.__)("{{title}}Order Status{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(r.__)("Select an order status","woocommerce-admin")},rules:[{value:"is",label:Object(r._x)("Is","order status","woocommerce-admin")},{value:"is_not",label:Object(r._x)("Is Not","order status","woocommerce-admin")}],input:{component:"SelectControl",options:Object.keys(n.c).map(e=>({value:e,label:n.c[e]}))}},product:{labels:{add:Object(r.__)("Products","woocommerce-admin"),placeholder:Object(r.__)("Search products","woocommerce-admin"),remove:Object(r.__)("Remove products filter","woocommerce-admin"),rule:Object(r.__)("Select a product filter match","woocommerce-admin"),title:Object(r.__)("{{title}}Product{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(r.__)("Select products","woocommerce-admin")},rules:[{value:"includes",label:Object(r._x)("Includes","products","woocommerce-admin")},{value:"excludes",label:Object(r._x)("Excludes","products","woocommerce-admin")}],input:{component:"Search",type:"products",getLabels:a.d}},variation:{labels:{add:Object(r.__)("Variations","woocommerce-admin"),placeholder:Object(r.__)("Search variations","woocommerce-admin"),remove:Object(r.__)("Remove variations filter","woocommerce-admin"),rule:Object(r.__)("Select a variation filter match","woocommerce-admin"),title:Object(r.__)("{{title}}Variation{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(r.__)("Select variation","woocommerce-admin")},rules:[{value:"includes",label:Object(r._x)("Includes","variations","woocommerce-admin")},{value:"excludes",label:Object(r._x)("Excludes","variations","woocommerce-admin")}],input:{component:"Search",type:"variations",getLabels:a.g}},coupon:{labels:{add:Object(r.__)("Coupon Codes","woocommerce-admin"),placeholder:Object(r.__)("Search coupons","woocommerce-admin"),remove:Object(r.__)("Remove coupon filter","woocommerce-admin"),rule:Object(r.__)("Select a coupon filter match","woocommerce-admin"),title:Object(r.__)("{{title}}Coupon code{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(r.__)("Select coupon codes","woocommerce-admin")},rules:[{value:"includes",label:Object(r._x)("Includes","coupon code","woocommerce-admin")},{value:"excludes",label:Object(r._x)("Excludes","coupon code","woocommerce-admin")}],input:{component:"Search",type:"coupons",getLabels:a.b}},customer_type:{labels:{add:Object(r.__)("Customer type","woocommerce-admin"),remove:Object(r.__)("Remove customer filter","woocommerce-admin"),rule:Object(r.__)("Select a customer filter match","woocommerce-admin"),title:Object(r.__)("{{title}}Customer is{{/title}} {{filter /}}","woocommerce-admin"),filter:Object(r.__)("Select a customer type","woocommerce-admin")},input:{component:"SelectControl",options:[{value:"new",label:Object(r.__)("New","woocommerce-admin")},{value:"returning",label:Object(r.__)("Returning","woocommerce-admin")}],defaultOption:"new"}},refunds:{labels:{add:Object(r.__)("Refunds","woocommerce-admin"),remove:Object(r.__)("Remove refunds filter","woocommerce-admin"),rule:Object(r.__)("Select a refund filter match","woocommerce-admin"),title:Object(r.__)("{{title}}Refunds{{/title}} {{filter /}}","woocommerce-admin"),filter:Object(r.__)("Select a refund type","woocommerce-admin")},input:{component:"SelectControl",options:[{value:"all",label:Object(r.__)("All","woocommerce-admin")},{value:"partial",label:Object(r.__)("Partially refunded","woocommerce-admin")},{value:"full",label:Object(r.__)("Fully refunded","woocommerce-admin")},{value:"none",label:Object(r.__)("None","woocommerce-admin")}],defaultOption:"all"}},tax_rate:{labels:{add:Object(r.__)("Tax Rates","woocommerce-admin"),placeholder:Object(r.__)("Search tax rates","woocommerce-admin"),remove:Object(r.__)("Remove tax rate filter","woocommerce-admin"),rule:Object(r.__)("Select a tax rate filter match","woocommerce-admin"),title:Object(r.__)("{{title}}Tax Rate{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(r.__)("Select tax rates","woocommerce-admin")},rules:[{value:"includes",label:Object(r._x)("Includes","tax rate","woocommerce-admin")},{value:"excludes",label:Object(r._x)("Excludes","tax rate","woocommerce-admin")}],input:{component:"Search",type:"taxes",getLabels:a.f}},attribute:{allowMultiple:!0,labels:{add:Object(r.__)("Attribute","woocommerce-admin"),placeholder:Object(r.__)("Search attributes","woocommerce-admin"),remove:Object(r.__)("Remove attribute filter","woocommerce-admin"),rule:Object(r.__)("Select a product attribute filter match","woocommerce-admin"),title:Object(r.__)("{{title}}Attribute{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(r.__)("Select attributes","woocommerce-admin")},rules:[{value:"is",label:Object(r._x)("Is","product attribute","woocommerce-admin")},{value:"is_not",label:Object(r._x)("Is Not","product attribute","woocommerce-admin")}],input:{component:"ProductAttribute"}}}})}}]);